(function(){var __sections__={};(function(){for(var i=0,s=document.getElementById("sections-script").getAttribute("data-sections").split(",");i<s.length;i++)__sections__[s[i]]=!0})(),function(){if(!(!__sections__.header&&!window.DesignMode))try{class StickyHeader extends HTMLElement{constructor(){super()}connectedCallback(){this.header=document.querySelector(".m-section-header"),this.megamenu=document.querySelector("mega-menu"),this.navBar=this.querySelector(".m-header__nav"),this.headerTop=this.querySelector(".m-header__top-wrapper"),this.headerIsAlwaysSticky=this.getAttribute("data-sticky-type")==="always",this.headerMenuIcon=this.querySelector(".m-header-menu-icon"),this.headerBounds={},this.headerTop=this.querySelector(".m-header__top-wrapper"),this.setHeaderHeight(),this.headerIsAlwaysSticky&&this.header.classList.add("m-section-header-sticky"),this.currentScrollTop=0,this.preventReveal=!1,this.onScrollHandler=this.onScroll.bind(this),this.hideHeaderOnScrollUp=()=>this.preventReveal=!0,this.addEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.addEventListener("scroll",this.onScrollHandler,!1),this.headerMenuIcon.addEventListener("click",this.toggleMenuBar.bind(this)),this.createObserver()}disconnectedCallback(){this.removeEventListener("preventHeaderReveal",this.hideHeaderOnScrollUp),window.removeEventListener("scroll",this.onScrollHandler)}toggleMenuBar(){this.headerMenuIcon.classList.contains("is-open")?this.headerMenuIcon.classList.remove("is-open"):this.headerMenuIcon.classList.add("is-open"),this.navBar.classList.contains("nav-bar-hidden")?(this.navBar.classList.remove("nav-bar-hidden"),this.headerTop.classList.remove("nav-bar-hidden")):(this.navBar.classList.add("nav-bar-hidden"),this.headerTop.classList.add("nav-bar-hidden"))}setHeaderTopHeight(){document.documentElement.style.setProperty("--header-height",`${this.headerTop.offsetHeight}px`)}setHeaderHeight(){document.documentElement.style.setProperty("--header-height",`${this.header.offsetHeight}px`),document.documentElement.style.setProperty("--nav-bar-height",`${this.navBar.offsetHeight}px`)}createObserver(){new IntersectionObserver((entries,observer2)=>{this.headerBounds=entries[0].intersectionRect,observer2.disconnect()}).observe(this.header)}onScroll(){const scrollTop=window.pageYOffset||document.documentElement.scrollTop;if(scrollTop>this.currentScrollTop&&scrollTop>this.headerBounds.bottom){if(this.header.classList.add("scrolled-past-header"),document.documentElement.classList.add("scrolled-past-header"),this.setHeaderTopHeight(),this.headerMenuIcon.classList.contains("is-open")||(this.navBar.classList.add("nav-bar-hidden"),this.headerTop.classList.add("nav-bar-hidden")),this.megamenu&&this.megamenu.init(),this.megamenu&&this.megamenu.close(),this.headerIsAlwaysSticky&&this.megamenu&&this.megamenu.setAttribute("data-toggle","true"),this.preventHide)return;requestAnimationFrame(this.hide.bind(this))}else scrollTop<this.currentScrollTop&&scrollTop>this.headerBounds.bottom?(this.header.classList.add("scrolled-past-header"),this.preventReveal?(window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.preventReveal=!1},66),requestAnimationFrame(this.hide.bind(this))):requestAnimationFrame(this.reveal.bind(this))):scrollTop<=this.headerBounds.top&&(this.header.classList.remove("scrolled-past-header"),document.documentElement.classList.remove("scrolled-past-header"),this.navBar.classList.remove("nav-bar-hidden"),this.headerTop.classList.remove("nav-bar-hidden"),this.headerMenuIcon.classList.remove("is-open"),this.setHeaderHeight(),requestAnimationFrame(this.reset.bind(this)));this.currentScrollTop=scrollTop}hide(){this.headerIsAlwaysSticky||(this.megamenu&&this.megamenu.removeAttribute("data-toggle"),this.header.classList.add("m-section-header-hidden","m-section-header-sticky"),document.documentElement.classList.add("m-section-header-hidden"),this.closeLocalizationForm(),this.closePredictiveSearch())}reveal(){this.headerIsAlwaysSticky||(this.megamenu&&this.megamenu.setAttribute("data-toggle","true"),this.header.classList.add("m-section-header-sticky","animate"),this.header.classList.remove("m-section-header-hidden"),document.documentElement.classList.remove("m-section-header-hidden"))}reset(){this.megamenu&&this.megamenu.openDefault&&this.megamenu.template==="index"&&this.megamenu&&this.megamenu.open(),this.currentScrollTop===0&&this.megamenu&&this.megamenu.removeAttribute("data-toggle"),!this.headerIsAlwaysSticky&&this.header.classList.remove("m-section-header-hidden","m-section-header-sticky","animate")}closePredictiveSearch(){this.predictiveSearch=this.predictiveSearch||this.header.querySelector("predictive-search"),this.predictiveSearch.close(!1)}closeLocalizationForm(){this.localization=this.localization||this.header.querySelectorAll("localization-form"),this.localization.forEach(localization=>localization.hidePanel())}}customElements.define("sticky-header",StickyHeader)}catch(e){console.error(e)}}()})();
//# sourceMappingURL=/cdn/shop/t/5/compiled_assets/scripts.js.map?1192=
